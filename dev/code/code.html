
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Codebase &#8212; Scala IDE 0.1-SNAPSHOT documentation</title>
    <link rel="stylesheet" href="../../_static/resources/stylesheets/base.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/resources/stylesheets/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/resources/stylesheets/base.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/resources/stylesheets/doc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/resources/stylesheets/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/resources/stylesheets/prettify.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.1-SNAPSHOT',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/jquery.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/toc.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/prettify.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/highlightCode.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/effects.core.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/effects.highlight.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/scrollTo.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/bootstrap-dropdown.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/bootstrap-dropdown-app.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/contentsFix.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="IDE Extensions new" href="../ide-extensions/ide-extensions.html" />
    <link rel="prev" title="Expression evaluator new" href="../architecture/expression-evaluator.html" /> 
  </head>
  <body>
<div class="top-bar">
  <div class="top-bar-inner">
    <div class="container">
      <a class="brand" href="/index.html"><img src="../../_static/resources/images/logo.png" height="70px"></a>
      <ul class="nav">
        <li><a href="/index.html#features">Features</a></li>
        <li><a href="/documentation.html">Documentation</a></li>
		<li class="menu">
	      	<a href="#" class="menu">Download</a>
	      	<ul class="menu-dropdown">
	        	<li><a href="/download/sdk.html">Bundle</a></li>
	        	<li><a href="/download/current.html">Stable</a></li>
	        	<li><a href="/download/milestone.html">Milestone</a></li>
	        	<li><a href="/download/nightly.html">Nightlies</a></li>
	      	</ul>
		</li>
        <li><a href="/blog/index.html">News</a></li>
        <li><a href="/team.html">Team</a></li>
      </ul>
    </div>
  </div>
</div>
<div class="slider">
  <div class="container">
    <div class="row">
      <div class="span16">
        <h1>Codebase</h1>
	  </div>
    </div>
  </div>
</div>
<div class="bottom">
  <div class="container" style="position: relative;">

    <div class="row" style="position: relative; clear: both;">
      <div class="span16">
          <ul class="breadcrumb">
            <li><a href="../../index.html">ScalaIDE Documentation</a> » </li>
              <li><a href="../index.html">Welcome to the Scala IDE Developer Documentation</a> » </li>
          </ul>
      </div>
    </div>

    <div class="row" style="position: relative; clear: both;">
      <div class="span11 main-content">
        <div class="section" id="codebase">
<h1>Codebase</h1>
<p>In this page you will learn about some specific aspect of the Scala IDE’s codebase, such as
available components and some of the pattern in use (or that we’d like to foster usage).</p>
<div class="section" id="logging">
<h2>Logging</h2>
<p>Logging is an important aspect of any application, and the Scala IDE is no exception. Logging the
right information and provide the user with a way to report logs can go a long way in understanding
the reason of a bug, and it can definitely save you some debug time!</p>
<p>Now, you may know that the Eclipse environment already provides a logging component. As a matter of
fact, a plugin can get a logger instance by simply calling <code class="docutils literal"><span class="pre">getLog()</span></code> on the <code class="docutils literal"><span class="pre">plugin</span></code>’s reference. The
returned logger, of type <a class="reference external" href="http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fcore%2Fruntime%2FILog.html">ILog</a>,
can be used to communicate to the user any useful information. All log messages sent through
the Eclipse logger are collected in <a class="reference external" href="http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.pde.doc.user/guide/tools/views/error_log.htm">Eclipse Error Log view component</a>,
hence they can be easily consulted by users.</p>
<p>Though, we believe that the Eclipse logger is not flexible enough to accomodate all usage. One reason is
that you don’t always want the user to see a log message. For instance, debug messages are often of no use
for the user, but they can provide very helpful information when tracking down the source of an
issue.</p>
<p>Inside the Scala IDE we offer two different loggers. The first one, is a handle on the
Eclipse logger described above. The second one, is a logger backed by Log4j (which we will refer to as
the “default logger” from now on). Log messages sent to the default logger are stored in a file named
<code class="docutils literal"><span class="pre">scala-ide.log</span></code>, located in the <code class="docutils literal"><span class="pre">${workspace}\.metadata\.plugins\org.scala-ide.sdt.core\</span></code> directory.
Also, note that users can easily control the amount of logged information through Logging preference page
(accessible under the Eclipse Preferences &gt; Scala &gt; Logging).</p>
<p>To get a handle on the loggers, you only need to mix-in the <code class="docutils literal"><span class="pre">HasLogger</span></code> trait. The implementation should be
somewhat similar to the following:</p>
<div class="highlight-scala"><div class="highlight"><pre><span></span><span class="k">trait</span> <span class="nc">HasLogger</span> <span class="o">{</span>

  <span class="k">protected</span><span class="o">[</span><span class="kt">this</span><span class="o">]</span> <span class="k">lazy</span> <span class="k">val</span> <span class="n">logger</span><span class="k">:</span> <span class="kt">Logger</span> <span class="o">=</span> <span class="o">{</span>
    <span class="k">val</span> <span class="n">clazz</span> <span class="k">=</span> <span class="k">this</span><span class="o">.</span><span class="n">getClass</span>
    <span class="nc">LogManager</span><span class="o">.</span><span class="n">getLogger</span><span class="o">(</span><span class="n">clazz</span><span class="o">)</span>
  <span class="o">}</span>

  <span class="k">protected</span><span class="o">[</span><span class="kt">this</span><span class="o">]</span> <span class="k">def</span> <span class="n">eclipseLog</span><span class="k">:</span> <span class="kt">Logger</span> <span class="o">=</span> <span class="nc">EclipseLogger</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Deciding which logger you should use is simple. If you want to inform the user, use the
<code class="docutils literal"><span class="pre">eclipseLog</span></code> instance. For instance, if a severe error occurred (i.e., an unexpected exception), it
is a good idea to inform the user!
In all other cases (or if you are unsure), prefer the default <code class="docutils literal"><span class="pre">logger</span></code>. Also, note that
messages sent through the <code class="docutils literal"><span class="pre">eclipseLog</span></code> are also forwarded to the default <code class="docutils literal"><span class="pre">logger</span></code> (meaning that
you never need to log the same message twice). Further, all printings in the Standard Output or the
Standard Error are redirected to the default <code class="docutils literal"><span class="pre">logger</span></code>.</p>
<p>In short, the <code class="docutils literal"><span class="pre">scala-ide.log</span></code> file always contain the complete list of log messages occurred within the Scala IDE!</p>
</div>
</div>

	    </div>
      <div class="span5 sidebar">
        <p class="contents-title">Contents</p>
        <div id="scroller-anchor">
          <div id="scroller">
            <div id="toc"></div>
          </div>
        </div>
	    </div>
    </div>

  </div>
</div>
<div class="footer" style="position:relative; clear: both; ">
  <div class="container">
    <ul>
      <li><h5>Download</h5></li>
      <li><a href="/download/sdk.html">Bundle</a></li>
      <li><a href="/download/current.html">Stable</a></li>
      <li><a href="/download/milestone.html">Milestone</a></li>
      <li><a href="/download/nightly.html">Nightlies</a></li>
    </ul>
    <ul>
      <li><h5>Documentation</h5></li>
      <li><a href="/docs/user/gettingstarted.html">Getting Started</a></li>
      <li><a href="/docs/videos.html">Videos</a></li>
      <li><a href="/docs/tutorials/index.html">Tutorials</a></li>
      <li><a href="http://groups.google.com/group/scala-ide-user">User Mailing List</a></li>
    </ul>
    <ul>
      <li><h5>Contribute</h5></li>
      <li><a href="https://github.com/scala-ide/scala-ide">Source Code</a></li>
      <li><a href="/docs/dev/index.html">Developer Documentation</a></li>
      <li><a href="http://groups.google.com/group/scala-ide-dev">Developer Mailing List</a></li>
      <li><a href="http://scala-ide-portfolio.assembla.com/spaces/scala-ide/support/tickets">Report a Bug</a></li>
      <li><a href="http://www.typesafe.com/contribute/cla">Individual CLA</a></li>
      <li><a href="/resources/pdfs/cla-org.pdf">Organization CLA</a></li>
    </ul>
    <ul>
      <li><img src="../../_static/resources/images/watermark.png" align="center"/></li>
    </ul>
  </div>
  <div class="container copyright">
    <p>
      <a href="http://creativecommons.org/licenses/by/2.0/uk/">Creative Commons</a>
	  <a href="http://scala-ide.org/feed.rss"><img align="right" height="20px" width="20px" src="http://scala-ide.org/resources/images/rss.png" alt="RSS feed of updates to the Scala IDE blog"></a>
    </p>
  </div>
</div>
<script type="text/javascript">
  $('#toc').toc();
</script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-574683-7']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

  function startVideo(div_id, youtube_id) {
    var video = '<iframe class="doc_video" src="http://www.youtube.com/embed/' + youtube_id + '?rel=0&autoplay=1&vq=hd720" frameborder="0" allowfullscreen></iframe>';
    document.getElementById(div_id).innerHTML = video
  }


</script>

  </body>
</html>