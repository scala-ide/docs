<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>How to create a Scala IDE release &mdash; Scala IDE 0.1-SNAPSHOT documentation</title>
    
    <link rel="stylesheet" href="../../_static/resources/stylesheets/base.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/resources/stylesheets/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/resources/stylesheets/base.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/resources/stylesheets/doc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/resources/stylesheets/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/resources/stylesheets/prettify.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.1-SNAPSHOT',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/jquery.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/toc.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/prettify.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/highlightCode.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/effects.core.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/effects.highlight.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/scrollTo.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/bootstrap-dropdown.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/bootstrap-dropdown-app.js"></script>
    <script type="text/javascript" src="../../_static/resources/javascript/contentsFix.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Scala IDE 0.1-SNAPSHOT documentation" href="../../index.html" />
    <link rel="up" title="Welcome to the Scala IDE Developer Documentation" href="../index.html" />
    <link rel="next" title="Roadmap" href="../roadmap.html" />
    <link rel="prev" title="Suggested Shortcuts" href="../appendix/shortcuts.html" /> 
  </head>
  <body role="document">
<div class="top-bar">
  <div class="top-bar-inner">
    <div class="container">
      <a class="brand" href="/index.html"><img src="../../_static/resources/images/logo.png" height="70px"></a>
      <ul class="nav">
        <li><a href="/index.html#features">Features</a></li>
        <li><a href="/documentation.html">Documentation</a></li>
		<li class="menu">
	      	<a href="#" class="menu">Download</a>
	      	<ul class="menu-dropdown">
	        	<li><a href="/download/sdk.html">Bundle</a></li>
	        	<li><a href="/download/current.html">Stable</a></li>
	        	<li><a href="/download/milestone.html">Milestone</a></li>
	        	<li><a href="/download/nightly.html">Nightlies</a></li>
	      	</ul>
		</li>
        <li><a href="/blog/index.html">News</a></li>
        <li><a href="/team.html">Team</a></li>
        <li><a href="/docs/dev/roadmap.html">Roadmap</a></li>
      </ul>
    </div>
  </div>
</div>
<div class="slider">
  <div class="container">
    <div class="row">
      <div class="span16">
        <h1>How to create a Scala IDE release</h1>
	  </div>
    </div>
  </div>
</div>
<div class="bottom">
  <div class="container" style="position: relative;">

    <div class="row" style="position: relative; clear: both;">
      <div class="span16">
          <ul class="breadcrumb">
            <li><a href="../../index.html">ScalaIDE Documentation</a> » </li>
              <li><a href="../index.html">Welcome to the Scala IDE Developer Documentation</a> » </li>
          </ul>
      </div>
    </div>

    <div class="row" style="position: relative; clear: both;">
      <div class="span11 main-content">
        <div class="section" id="how-to-create-a-scala-ide-release">
<h1>How to create a Scala IDE release</h1>
<p>This document describes how to build a Scala IDE release and the corresponding Eclipse products.</p>
<p>Prerequisites:</p>
<ul class="simple">
<li>Your public SSH key needs to be added to Scala IDE&#8217;s file hoster</li>
<li>You also need access to Amazon S3, which hosts the Scala IDE products and the releases</li>
<li>Push permissions to all Github repos that need to be included in the release</li>
<li>Access rights to the keystore that contains the keys for the JAR/Eclipse signing</li>
<li>A GPG key if you want to sign any Git tags</li>
<li>Access to Jenkins if you want to build the Scala IDE ecosystem by yourself</li>
</ul>
<p>If you want to build a new Scala IDE release but you don&#8217;t have access to all of the things, please ask one of the current IDE maintainers for them.</p>
<ol class="arabic">
<li><p class="first">The <code class="docutils literal"><span class="pre">scala-ide/scala-ide-product</span></code> repo needs to be updated to the newest version number. This can be done with the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd</span> /path/to/scala-ide-product
mvn -Dtycho.mode<span class="o">=</span>maven org.eclipse.tycho:tycho-versions-plugin:set-version -DnewVersion<span class="o">=</span>&lt;new-version&gt;-SNAPSHOT
</pre></div>
</div>
<p>where <code class="docutils literal"><span class="pre">&lt;new-version&gt;</span></code> needs to be replaced by the actual version, which is for example <code class="docutils literal"><span class="pre">4.0.0</span></code>. Note, it is not relevant to add RC or final version appendixes here. This command forgets one file that needs to be updated too: <code class="docutils literal"><span class="pre">org.scala-ide.sdk.feature/templates/feature.xml</span></code>.</p>
</li>
<li><p class="first">Create a new config file in the <code class="docutils literal"><span class="pre">scala-ide/uber-build</span></code> repo. The config files are located in the <code class="docutils literal"><span class="pre">uber-build/config</span></code> directory. The easiest way to do this is to copy the config file of the previous release. The config file contains a <code class="docutils literal"><span class="pre">*_GIT_BRANCH</span></code> property, which specifies the branch or tag of the corresponding git repo. During the build this branch or tag is checked out and then considered for the Scala IDE release. If the repo has been updated since the last release and the plan is to include these updates in the next release, a new tag needs to be specified.</p>
</li>
<li><p class="first">After all tags are specified in the configuration file, they need to be set to all git repos. This can either be done manually or with the help of the <code class="docutils literal"><span class="pre">uber-build/mk-git-tags.sh</span></code> file. This file should be called in the following way:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd</span> /path/to/uber-build
./mk-git-tags.sh config/release-config-file.conf /path/to/scala-ide/base/dir <span class="s2">&quot;tag sign message&quot;</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">mk-git-tags.sh</span></code> assumes that all repos under the <code class="docutils literal"><span class="pre">scala-ide</span></code> organization are located in a base directory. If this is the case it will load the specified config file and add all the tags to the repositories. After that it will upload them to Github. During this process all tags are signed with a GPG key. If such a key does not exist, either create it or create the tags manually without any signing.</p>
</li>
<li><p class="first">In order to build the Scala IDE SDK (the Eclipse product), an Eclipse installation is required. Download the &#8220;Eclipse IDE for Java Developers&#8221; from their <a class="reference external" href="https://www.eclipse.org/downloads/">download page</a> and extract it somewhere in your file system. It is not important which OS dependent archive is downloaded - Eclipse will figure out by itself how to create executables for each OS based on the extracted Eclipse installation.</p>
</li>
<li><p class="first">Before uber-build can be run, it is probably necessary to specify some environment variables. All the variables that may be necessary are part of the file <code class="docutils literal"><span class="pre">uber-build/uber-build-exports.sh</span></code>.</p>
</li>
<li><p class="first">Run uber-build:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd</span> /path/to/uber-build
./uber-build config/config-file.conf
</pre></div>
</div>
<p>If everything completes successfully, uber-build continues with uploading all binaries of the repos that were built. Notice that you will be asked for the password of your SSH key before the uploading can be started.</p>
<p>After the upload has been completed, the base ecosystem can be found in directory <code class="docutils literal"><span class="pre">~/scala-ide.dreamhosters.com/sdk/next/lithium/e44/scala211/stable/</span></code> whereas all the plugins can be found in <code class="docutils literal"><span class="pre">~/scala-ide.dreamhosters.com/plugins/$pluginName/releases/e44/2.11.x/</span></code>.</p>
<p>To login use <code class="docutils literal"><span class="pre">ssh</span> <span class="pre">scalaide&#64;download.scala-ide.org</span></code>.</p>
</li>
<li><p class="first">uber-build doesn&#8217;t automatically upload the Scala IDE products to Amazon S3 host, therefore it has to be done manually. Get a client from somewhere that allows you to access the S3 contents and enter the credentials you got from the current IDE maintainers. For every new product a directory should be created in the directory <code class="docutils literal"><span class="pre">downloads.typesafe.com/scalaide-pack</span></code>.</p>
<p>The products can be found in the local directory <code class="docutils literal"><span class="pre">target/product/org.scala-ide.product/target/products/</span></code>.</p>
</li>
<li><p class="first">Build a changelog for the <code class="docutils literal"><span class="pre">scala-ide/docs</span></code> repo. Run the following script in the <code class="docutils literal"><span class="pre">scala-ide/scala-ide</span></code> repo to generate the changelog:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd</span> /path/to/scala-ide-repo
./GenChangeLog.bash &lt;previous-release&gt; &lt;new-release&gt;
</pre></div>
</div>
<p>where <code class="docutils literal"><span class="pre">previous-release</span></code> and <code class="docutils literal"><span class="pre">new-release</span></code> are tags. The output of this script should be included in <code class="docutils literal"><span class="pre">scala-ide/docs/src/sphinx/changelog.rst</span></code>. Note, that the output of this script is not perfect, you may want to manually improve it.</p>
</li>
<li><p class="first">Create release notes for the <code class="docutils literal"><span class="pre">scala-ide/scala-ide.github.com</span></code> repo. See the README of this repo for more information about how to proceed in creating the release notes.</p>
</li>
<li><p class="first">A Scala IDE ecosystem build needs to be triggered in Jenkins. This can be done manually but Jenkins builds the ecosystem periodically and completely automatically. The ecosystem is created based on the binaries you uploaded with uber-build. After this happened, the ecosystem is located in a staging area on the server where you can check a last time that everything has been done correctly.</p>
<p>The job in Jenkins that builds the ecosystem is called <code class="docutils literal"><span class="pre">ecosystem/ecosystem-all</span></code> and the staging area is located at <code class="docutils literal"><span class="pre">http://download.scala-ide.org/sdk/next/lithium/e44/scala211/stable/</span></code>.</p>
</li>
<li><p class="first">The last step is to release the IDE from the staging area to the big wide world. This needs to be done manually with the Jenkins job <code class="docutils literal"><span class="pre">ecosystem/ecosystem-merge-bases</span></code>. After this job is run, the job <code class="docutils literal"><span class="pre">ecosystem/ecosystem-all</span></code> needs to run once again. This time it frees the ecosystem from the staging area. After both jobs are run, the ecosystem can be found in the directory <code class="docutils literal"><span class="pre">http://download.scala-ide.org/sdk/lithium/e44/scala211/stable/</span></code>.</p>
</li>
</ol>
</div>

	    </div>
      <div class="span5 sidebar">
        <p class="contents-title">Contents</p>
        <div id="scroller-anchor">
          <div id="scroller">
            <div id="toc"></div>
          </div>
        </div>
	    </div>
    </div>

  </div>
</div>
<div class="footer" style="position:relative; clear: both; ">
  <div class="container">
    <ul>
      <li><h5>Download</h5></li>
      <li><a href="/download/sdk.html">Bundle</a></li>
      <li><a href="/download/current.html">Stable</a></li>
      <li><a href="/download/milestone.html">Milestone</a></li>
      <li><a href="/download/nightly.html">Nightlies</a></li>
    </ul>
    <ul>
      <li><h5>Documentation</h5></li>
      <li><a href="/docs/user/gettingstarted.html">Getting Started</a></li>
      <li><a href="/docs/videos.html">Videos</a></li>
      <li><a href="/docs/tutorials/index.html">Tutorials</a></li>
      <li><a href="http://groups.google.com/group/scala-ide-user">User Mailing List</a></li>
    </ul>
    <ul>
      <li><h5>Contribute</h5></li>
      <li><a href="https://github.com/scala-ide/scala-ide">Source Code</a></li>
      <li><a href="/docs/dev/index.html">Developer Documentation</a></li>
      <li><a href="http://groups.google.com/group/scala-ide-dev">Developer Mailing List</a></li>
      <li><a href="http://scala-ide-portfolio.assembla.com/spaces/scala-ide/support/tickets">Report a Bug</a></li>
      <li><a href="http://www.typesafe.com/contribute/cla">Individual CLA</a></li>
      <li><a href="/resources/pdfs/cla-org.pdf">Organization CLA</a></li>
    </ul>
    <ul>
      <li><img src="../../_static/resources/images/watermark.png" align="center"/></li>
    </ul>
  </div>
  <div class="container copyright">
    <p>
      <a href="http://creativecommons.org/licenses/by/2.0/uk/">Creative Commons</a>
	  <a href="http://scala-ide.org/feed.rss"><img align="right" height="20px" width="20px" src="http://scala-ide.org/resources/images/rss.png" alt="RSS feed of updates to the Scala IDE blog"></a>
    </p>
  </div>
</div>
<script type="text/javascript">
  $('#toc').toc();
</script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-574683-7']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

  function startVideo(div_id, youtube_id) {
    var video = '<iframe class="doc_video" src="http://www.youtube.com/embed/' + youtube_id + '?rel=0&autoplay=1&vq=hd720" frameborder="0" allowfullscreen></iframe>';
    document.getElementById(div_id).innerHTML = video
  }


</script>

  </body>
</html>