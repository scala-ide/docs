
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Asynchronous Debugger new &#8212; Scala IDE 0.1-SNAPSHOT documentation</title>
    <link rel="stylesheet" href="../../../_static/resources/stylesheets/base.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/resources/stylesheets/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/resources/stylesheets/base.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/resources/stylesheets/doc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/resources/stylesheets/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/resources/stylesheets/prettify.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.1-SNAPSHOT',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/resources/javascript/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/resources/javascript/toc.js"></script>
    <script type="text/javascript" src="../../../_static/resources/javascript/prettify.js"></script>
    <script type="text/javascript" src="../../../_static/resources/javascript/highlightCode.js"></script>
    <script type="text/javascript" src="../../../_static/resources/javascript/effects.core.js"></script>
    <script type="text/javascript" src="../../../_static/resources/javascript/effects.highlight.js"></script>
    <script type="text/javascript" src="../../../_static/resources/javascript/scrollTo.js"></script>
    <script type="text/javascript" src="../../../_static/resources/javascript/bootstrap-dropdown.js"></script>
    <script type="text/javascript" src="../../../_static/resources/javascript/bootstrap-dropdown-app.js"></script>
    <script type="text/javascript" src="../../../_static/resources/javascript/contentsFix.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Scala Interpreter" href="../scalainterpreter/index.html" />
    <link rel="prev" title="Scala Debugger" href="../scaladebugger/index.html" /> 
  </head>
  <body>
<div class="top-bar">
  <div class="top-bar-inner">
    <div class="container">
      <a class="brand" href="/index.html"><img src="../../../_static/resources/images/logo.png" height="70px"></a>
      <ul class="nav">
        <li><a href="/index.html#features">Features</a></li>
        <li><a href="/documentation.html">Documentation</a></li>
		<li class="menu">
	      	<a href="#" class="menu">Download</a>
	      	<ul class="menu-dropdown">
	        	<li><a href="/download/sdk.html">Bundle</a></li>
	        	<li><a href="/download/current.html">Stable</a></li>
	        	<li><a href="/download/milestone.html">Milestone</a></li>
	        	<li><a href="/download/nightly.html">Nightlies</a></li>
	      	</ul>
		</li>
        <li><a href="/blog/index.html">News</a></li>
        <li><a href="/team.html">Team</a></li>
      </ul>
    </div>
  </div>
</div>
<div class="slider">
  <div class="container">
    <div class="row">
      <div class="span16">
        <h1>Asynchronous Debugger <span class="raw-html"><span class="label info">new</span></span></h1>
	  </div>
    </div>
  </div>
</div>
<div class="bottom">
  <div class="container" style="position: relative;">

    <div class="row" style="position: relative; clear: both;">
      <div class="span16">
          <ul class="breadcrumb">
            <li><a href="../../../index.html">ScalaIDE Documentation</a> » </li>
              <li><a href="../../index.html">User Documentation for the Scala IDE 4.x - Lithium</a> » </li>
              <li><a href="../../features.html">Features</a> » </li>
          </ul>
      </div>
    </div>

    <div class="row" style="position: relative; clear: both;">
      <div class="span11 main-content">
        <div class="section" id="asynchronous-debugger-new">
<h1>Asynchronous Debugger <span class="raw-html"><span class="label info">new</span></span></h1>
<p>The Asynchronous Debugger extensions facilitate debugging of applications that use actors, futures or even iteratees. There are two main features:</p>
<ul class="simple">
<li>Asynchronous Stack Recovery. Capture the call stack at the point where a future is created, or a message is sent to an actor.</li>
<li>Step with Message. Follow a message send and stop in the receiving actor.</li>
</ul>
<p>A few minor improvements, too:</p>
<ul class="simple">
<li>Logical structures for actors (see at a glance the supervisor, current sender, supervising strategy).</li>
<li>Break on dead letters (breakpoint when a message arrives in dead letters).</li>
</ul>
<p>For more details and demo, have a look at this <a class="reference external" href="https://www.parleys.com/tutorial/rethinking-debugger">ScalaDays 2014 presentation</a></p>
<div class="section" id="configuration">
<h2>Configuration</h2>
<p>The asynchronous extensions incur a cost on your debugged application so they need to be explicitly enabled in your Debug Configuration. Look for the additional <code class="docutils literal"><span class="pre">Scala</span> <span class="pre">Debugger</span></code> tab and enable the extensions. This tab is available on Java Debug configurations as well, to allow debugging Java Akka applications.</p>
<a class="reference internal image-reference" href="../../../_images/configuration.png"><img alt="../../../_images/configuration.png" src="../../../_images/configuration.png" style="width: 100%;" /></a>
<p>You can also define new <em>program points</em> where stacks are captured. A program point is defined by the fully qualified (and desugared) method name to intercept, and a 0-based index (0 being <code class="docutils literal"><span class="pre">this</span></code>) in the method parameters. The index defines the object to which this additional stack is attached. Whenever the program is stopped at a regular breakpoint, clicking on a variable that points to that object will bring in the latest captured stack in the <code class="docutils literal"><span class="pre">Async</span> <span class="pre">Stack</span> <span class="pre">View</span></code>.</p>
<a class="reference internal image-reference" href="../../../_images/program-points.png"><img alt="../../../_images/program-points.png" src="../../../_images/program-points.png" style="width: 100%;" /></a>
</div>
<div class="section" id="async-stack">
<h2>Async Stack</h2>
<p>The Async Stack view is a tool which shows a time line (history) of coming Akka message or executed <code class="docutils literal"><span class="pre">Future</span></code> instance. To use this feature following actions need to be done:</p>
<ul class="simple">
<li>Asynchronous extension must be ticked in specific <code class="docutils literal"><span class="pre">Debug</span> <span class="pre">Configuration</span></code> how it is described in <em>Configuration</em>.</li>
<li>There must be the object with history in current stack frame when breakpoint stops.</li>
</ul>
<p>If the object with history is in current stack frame it can be clicked and then Async Stack shows its last stack trace from where this object has been triggered. Then to go back further in the past the stack frame in Async Stack can be clicked again and again up to the origin of the particular call flow.</p>
<p>Let’s see a short example. The execution of code has been stopped in line 23. Variable view shows object (message) <code class="docutils literal"><span class="pre">GreetMe</span></code> which has got a time line. We also can notice in Async Stack view that message has came from line 34 of <code class="docutils literal"><span class="pre">Greeter</span></code> class.</p>
<a class="reference internal image-reference" href="../../../_images/async-stack-1.png"><img alt="../../../_images/async-stack-1.png" src="../../../_images/async-stack-1.png" style="width: 100%;" /></a>
<p>Clicking on this stack trace (<em>sample.hello.Greeter…at line: 34</em>) in Async Stack view we are moved to the place in code from where this message has been sent. On other hand Variables view shows the origin message. This time it’s <code class="docutils literal"><span class="pre">GreatMe</span></code> again.</p>
<a class="reference internal image-reference" href="../../../_images/async-stack-2.png"><img alt="../../../_images/async-stack-2.png" src="../../../_images/async-stack-2.png" style="width: 100%;" /></a>
<p>Clicking again we end up in line 28 of <code class="docutils literal"><span class="pre">Greeter</span></code>.</p>
<a class="reference internal image-reference" href="../../../_images/async-stack-3.png"><img alt="../../../_images/async-stack-3.png" src="../../../_images/async-stack-3.png" style="width: 100%;" /></a>
<p>And at last we see that this series of <code class="docutils literal"><span class="pre">GreetMe</span></code> messages has been initiated by <code class="docutils literal"><span class="pre">Greet</span></code> message</p>
<a class="reference internal image-reference" href="../../../_images/async-stack-4.png"><img alt="../../../_images/async-stack-4.png" src="../../../_images/async-stack-4.png" style="width: 100%;" /></a>
<p>If we are even more curious finally we find that first message has been sent from <code class="docutils literal"><span class="pre">HelloWorld.preStart()</span></code> method. Blank Async Stack view says that there is no more history.</p>
<a class="reference internal image-reference" href="../../../_images/async-stack-5.png"><img alt="../../../_images/async-stack-5.png" src="../../../_images/async-stack-5.png" style="width: 100%;" /></a>
</div>
<div class="section" id="step-with-message">
<h2>Step with Message</h2>
<p>A mysterious green <em>bang</em> icon on <code class="docutils literal"><span class="pre">Debug</span></code> view toolbar is a next part of Async Debugger tools suite. When it is clicked and underlying code line launches a message then the code execution is continued up to a place where this message is received. In other case it works like <code class="docutils literal"><span class="pre">step</span> <span class="pre">over</span></code> action.</p>
<p>Let’s flick through a simple example. First stop (with breakpoint) in a part of code which emits messages.</p>
<a class="reference internal image-reference" href="../../../_images/step-msg-1.png"><img alt="../../../_images/step-msg-1.png" src="../../../_images/step-msg-1.png" style="width: 100%;" /></a>
<p>Now we can click on <em>bang</em> and land in next line.</p>
<a class="reference internal image-reference" href="../../../_images/step-msg-2.png"><img alt="../../../_images/step-msg-2.png" src="../../../_images/step-msg-2.png" style="width: 100%;" /></a>
<p>Assume now that we want to see where we land with message <code class="docutils literal"><span class="pre">Unknown</span></code>. So we skip current line simply with <code class="docutils literal"><span class="pre">step</span> <span class="pre">over</span></code>.</p>
<a class="reference internal image-reference" href="../../../_images/step-msg-3.png"><img alt="../../../_images/step-msg-3.png" src="../../../_images/step-msg-3.png" style="width: 100%;" /></a>
<p>Finally pushing <em>bang</em> we see that message <code class="docutils literal"><span class="pre">Unknown</span></code> is handled by <code class="docutils literal"><span class="pre">Gritter</span></code> class.</p>
<a class="reference internal image-reference" href="../../../_images/step-msg-4.png"><img alt="../../../_images/step-msg-4.png" src="../../../_images/step-msg-4.png" style="width: 100%;" /></a>
</div>
<div class="section" id="break-on-dead-letters">
<h2>Break on Dead Letters</h2>
<p>It is a counterpart of <em>stop on exception</em> in regular debugging but this time the debugging process is stopped when <code class="docutils literal"><span class="pre">Dead</span> <span class="pre">Letter</span></code> comes.</p>
<p>To activate this feature push the <em>blue envelope</em> on the <code class="docutils literal"><span class="pre">Breakpoints</span></code> view. Observe that we are going to send a <code class="docutils literal"><span class="pre">PoisonPill</span></code> to <code class="docutils literal"><span class="pre">greeter</span></code>.</p>
<a class="reference internal image-reference" href="../../../_images/dead-letter-1.png"><img alt="../../../_images/dead-letter-1.png" src="../../../_images/dead-letter-1.png" style="width: 100%;" /></a>
<p>Now just run debugging and expect to stop when <em>dead letter</em> is caught.</p>
<a class="reference internal image-reference" href="../../../_images/dead-letter-2.png"><img alt="../../../_images/dead-letter-2.png" src="../../../_images/dead-letter-2.png" style="width: 100%;" /></a>
</div>
</div>

	    </div>
      <div class="span5 sidebar">
        <p class="contents-title">Contents</p>
        <div id="scroller-anchor">
          <div id="scroller">
            <div id="toc"></div>
          </div>
        </div>
	    </div>
    </div>

  </div>
</div>
<div class="footer" style="position:relative; clear: both; ">
  <div class="container">
    <ul>
      <li><h5>Download</h5></li>
      <li><a href="/download/sdk.html">Bundle</a></li>
      <li><a href="/download/current.html">Stable</a></li>
      <li><a href="/download/milestone.html">Milestone</a></li>
      <li><a href="/download/nightly.html">Nightlies</a></li>
    </ul>
    <ul>
      <li><h5>Documentation</h5></li>
      <li><a href="/docs/user/gettingstarted.html">Getting Started</a></li>
      <li><a href="/docs/videos.html">Videos</a></li>
      <li><a href="/docs/tutorials/index.html">Tutorials</a></li>
      <li><a href="http://groups.google.com/group/scala-ide-user">User Mailing List</a></li>
    </ul>
    <ul>
      <li><h5>Contribute</h5></li>
      <li><a href="https://github.com/scala-ide/scala-ide">Source Code</a></li>
      <li><a href="/docs/dev/index.html">Developer Documentation</a></li>
      <li><a href="http://groups.google.com/group/scala-ide-dev">Developer Mailing List</a></li>
      <li><a href="http://scala-ide-portfolio.assembla.com/spaces/scala-ide/support/tickets">Report a Bug</a></li>
      <li><a href="http://www.typesafe.com/contribute/cla">Individual CLA</a></li>
      <li><a href="/resources/pdfs/cla-org.pdf">Organization CLA</a></li>
    </ul>
    <ul>
      <li><img src="../../../_static/resources/images/watermark.png" align="center"/></li>
    </ul>
  </div>
  <div class="container copyright">
    <p>
      <a href="http://creativecommons.org/licenses/by/2.0/uk/">Creative Commons</a>
	  <a href="http://scala-ide.org/feed.rss"><img align="right" height="20px" width="20px" src="http://scala-ide.org/resources/images/rss.png" alt="RSS feed of updates to the Scala IDE blog"></a>
    </p>
  </div>
</div>
<script type="text/javascript">
  $('#toc').toc();
</script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-574683-7']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

  function startVideo(div_id, youtube_id) {
    var video = '<iframe class="doc_video" src="http://www.youtube.com/embed/' + youtube_id + '?rel=0&autoplay=1&vq=hd720" frameborder="0" allowfullscreen></iframe>';
    document.getElementById(div_id).innerHTML = video
  }


</script>

  </body>
</html>